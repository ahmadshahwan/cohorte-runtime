<?xml version="1.0" encoding="UTF-8"?>
<ipojo xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="org.apache.felix.ipojo http://felix.apache.org/ipojo/schemas/CURRENT/core.xsd"
	xmlns="org.apache.felix.ipojo" xmlns:jmx="org.apache.felix.ipojo.handlers.jmx">

	<!-- The logger, specific to the bundle -->
	<component classname="org.psem2m.isolates.config.impl.CBundleConfigLoggerSvc"
		architecture="true" immediate="true" name="isolates-config-logger-factory">

		<provides specifications="org.psem2m.utilities.logging.IActivityLoggerBase" />

		<callback transition="validate" method="validatePojo" />
		<callback transition="invalidate" method="invalidatePojo" />
	</component>

	<!-- The configuration service -->
	<component classname="org.psem2m.isolates.config.impl.CConfigSvc"
		architecture="true" immediate="true" name="isolates-config-factory">

		<provides specifications="org.psem2m.isolates.config.ISvcConfig" />

		<requires field="pLoggerSvc" optional="false" />

		<callback transition="validate" method="validatePojo" />
		<callback transition="invalidate" method="invalidatePojo" />
	</component>
 
 
 <component classname="org.psem2m.isolates.config.impl.PojoErrorHandler"
		architecture="true" immediate="true">

		<provides />
	</component>
	
	<instance component="org.psem2m.isolates.config.impl.PojoErrorHandler" />
 
	<!-- Instances -->
	<instance component="isolates-config-logger-factory" name="isolates-config-logger" />
	<instance component="isolates-config-factory" name="isolates-config" />
</ipojo>
